{"version":3,"sources":["components/message/Message.js"],"names":["id","Close","styled","Container","props","top","Messages","animated","div","Content","canClose","Button","Life","Message","config","tension","friction","precision","timeout","children","message","useState","WeakMap","cancelMap","refMap","items","setItems","transitions","useTransition","item","key","from","opacity","height","life","enter","next","a","get","offsetHeight","leave","cancel","set","onRest","state","filter","i","duration","useEffect","msg","map","style","ref","right","msgBody","onClick","e","stopPropagation","has"],"mappings":"mPAKIA,G,OAAK,GA2CT,IAAMC,EAAQC,YAAO,IAAPA,CAAH,iEAILC,EAAYD,YAAO,MAAPA,CAAH,6SAUK,SAAAE,GAAK,OAAKA,EAAMC,IAAM,iBAAmB,YAOvDC,EAAWJ,YAAOK,IAASC,IAAhBN,CAAH,4OAYRO,EAAUP,YAAO,MAAPA,CAAH,8SAOc,SAAAE,GAAK,OAAwB,IAAnBA,EAAMM,SAAqB,MAAQ,cAKtD,SAAAN,GAAK,OAAKA,EAAMC,IAAM,IAAM,UAC3B,SAAAD,GAAK,OAAKA,EAAMC,IAAM,OAAS,OAG5CM,EAAST,YAAO,SAAPA,CAAH,wYAqBNU,EAAOV,YAAOK,IAASC,IAAhBN,CAAH,iLAEE,SAAAE,GAAK,OAAKA,EAAMC,IAAM,OAAS,OAO5BQ,UAxHf,YAAiH,IAAD,IAA7FC,cAA6F,MAApF,CAAEC,QAAS,IAAKC,SAAU,GAAIC,UAAW,IAA2C,MAApCC,eAAoC,MAA1B,IAA0B,EAArBC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,QAAW,EAC1FC,oBAAS,kBAAM,IAAIC,WAAhCC,EADuG,sBAE7FF,oBAAS,kBAAM,IAAIC,WAA7BE,EAFuG,sBAGpFH,mBAAS,IAH2E,mBAGvGI,EAHuG,KAGhGC,EAHgG,KAKxGC,EAAcC,YAAcH,GAAO,SAAAI,GAAI,OAAIA,EAAKC,MAAK,CACzDC,KAAM,CAAEC,QAAS,EAAGC,OAAQ,EAAGC,KAAM,QACrCC,MAAO,SAAAN,GAAI,8CAAI,WAAMO,GAAN,SAAAC,EAAA,sEAAoBD,EAAK,CAAEJ,QAAS,EAAGC,OAAQT,EAAOc,IAAIT,GAAMU,eAAhE,mFAAJ,uDACXC,MAAO,SAAAX,GAAI,8CAAI,WAAOO,EAAMK,GAAb,SAAAJ,EAAA,6DACbd,EAAUmB,IAAIb,EAAMY,GADP,SAEPL,EAAK,CAAEF,KAAM,OAFN,uBAGPE,EAAK,CAAEJ,QAAS,IAHT,uBAIPI,EAAK,CAAEH,OAAQ,IAJR,2CAAJ,yDAMXU,OAAQ,SAAAd,GAAI,OAAIH,GAAS,SAAAkB,GAAK,OAAIA,EAAMC,QAAO,SAAAC,GAAC,OAAIA,EAAEhB,MAAQD,EAAKC,WACnEhB,OAAQ,SAACe,EAAMe,GAAP,MAA4B,UAAVA,EAAoB,CAAC,CAAEG,SAAU7B,GAAWJ,EAAQA,GAAUA,KAK1F,OAFAkC,qBAAU,WAAW7B,GAAS,SAAA8B,GAAG,OAAIvB,GAAS,SAAAkB,GAAK,4BAAQA,GAAR,CAAe,CAAEd,IAAK9B,IAAMiD,iBAAU,CAAC9B,IAGxF,kBAAChB,EAAD,KACGwB,EAAYuB,KAAI,gBAAGpB,EAAH,EAAGA,IAAKD,EAAR,EAAQA,KAAR,IAAczB,MAAS8B,EAAvB,EAAuBA,KAASiB,EAAhC,+BACf,kBAAC7C,EAAD,CAAUwB,IAAKA,EAAKqB,MAAOA,GACzB,kBAAC1C,EAAD,CAAS2C,IAAK,SAAAA,GAAG,OAAIA,GAAO5B,EAAOkB,IAAIb,EAAMuB,KAC3C,kBAACxC,EAAD,CAAMuC,MAAO,CAAEE,MAAOnB,KACtB,2BAAKd,EAAQkC,SACb,kBAAC3C,EAAD,CACE4C,QAAS,SAAAC,GACPA,EAAEC,kBACFlC,EAAUmC,IAAI7B,IAASN,EAAUe,IAAIT,EAAdN,KAEzB,kBAACtB,EAAD","file":"static/js/2.4d0634b4.chunk.js","sourcesContent":["import { useTransition, animated } from 'react-spring';\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport './Message.css';\n\nlet id = 0;\n\nfunction Message({ config = { tension: 125, friction: 20, precision: 0.1 }, timeout = 500, children, message }) {\n  const [cancelMap] = useState(() => new WeakMap());\n  const [refMap] = useState(() => new WeakMap()); \n  const [items, setItems] = useState([]);\n\n  const transitions = useTransition(items, item => item.key, {\n    from: { opacity: 0, height: 0, life: '100%' },\n    enter: item => async next => await next({ opacity: 1, height: refMap.get(item).offsetHeight }),\n    leave: item => async (next, cancel) => {\n      cancelMap.set(item, cancel)\n      await next({ life: '0%' })\n      await next({ opacity: 0 })\n      await next({ height: 0 })\n    },\n    onRest: item => setItems(state => state.filter(i => i.key !== item.key)),\n    config: (item, state) => (state === 'leave' ? [{ duration: timeout }, config, config] : config),\n  });\n\n  useEffect(() => void children(msg => setItems(state => [...state, { key: id++, msg }])), [children]);\n\n  return (\n    <Container>\n      {transitions.map(({ key, item, props: { life, ...style } }) => (\n        <Messages key={key} style={style}>\n          <Content ref={ref => ref && refMap.set(item, ref)}>\n            <Life style={{ right: life }} />\n            <p>{ message.msgBody }</p>\n            <Button\n              onClick={e => {\n                e.stopPropagation()\n                cancelMap.has(item) && cancelMap.get(item)()\n              }}>\n              <Close>x</Close>\n            </Button>\n          </Content>\n        </Messages>\n      ))}\n    </Container>\n  );\n};\n\nconst Close = styled('p')`\n  margin: 4px 5px 0 0px !important;\n`;\n\nconst Container = styled('div')`\n  position: fixed;\n  z-index: 1000;\n  width: 357px;\n  bottom: 0;\n  margin: 20px auto;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  flex-direction: ${props => (props.top ? 'column-reverse' : 'column')};\n  pointer-events: none;\n  @media (max-width: 680px) {\n    align-items: center;\n  }\n`;\n\nconst Messages = styled(animated.div)`\n  box-shadow: 0px 0px 10px -4px #000;\n  box-sizing: border-box;\n  height: 70px !important;\n  position: relative;\n  overflow: hidden;\n  width: 40ch;\n  @media (max-width: 680px) {\n    width: 100%;\n  }\n`;\n\nconst Content = styled('div')`\n  color: white;\n  background: #445159;\n  opacity: 0.9;\n  padding: 12px 22px;\n  font-size: 1em;\n  display: grid;\n  grid-template-columns: ${props => (props.canClose === false ? '1fr' : '1fr auto')};\n  grid-gap: 10px;\n  overflow: hidden;\n  height: auto;\n  border-radius: 3px;\n  //margin-top: ${props => (props.top ? '0' : '10px')};\n  margin-bottom: ${props => (props.top ? '10px' : '0')};\n`;\n\nconst Button = styled('button')`\n  position: absolute;\n  right: 4px;\n  top: 5px;\n  cursor: pointer;\n  pointer-events: all;\n  outline: 0;\n  border: none;\n  background: transparent;\n  display: flex;\n  align-self: flex-end;\n  overflow: hidden;\n  margin: 0;\n  padding: 0;\n  padding-bottom: 14px;\n  color: rgba(255, 255, 255, 0.5);\n  :hover {\n    color: rgba(255, 255, 255, 0.6);\n  }\n`;\n\nconst Life = styled(animated.div)`\n  position: absolute;\n  bottom: ${props => (props.top ? '10px' : '0')};\n  left: 0px;\n  width: auto;\n  background-image: linear-gradient(130deg, #F45050, #f5918e);\n  height: 5px;\n`;\n\nexport default Message;"],"sourceRoot":""}